ScreenManager:
    CustomerBrowse:

<CustomerBrowse>
    name:"customerbrowse"
    BoxLayout:
        orientation: "vertical"
        canvas.before:
            Color:
                rgba: (2/255, 14/255, 25/255,1)
            Rectangle:
                pos:self.pos
                size:self.size

        MDTopAppBar:
            id:bar
            title: "PURCHASE BOTTLES"
            right_action_items: [["dots-vertical", lambda x: root.dropdown_bar()  ,"Options"],["cart", lambda x: x]]
            left_action_items:[["arrow-left", lambda x: root.topbar_close2()  ,"Exit"]]
            

        MDBottomNavigation:
            panel_color: 184/255, 190/255, 195/255,1
                    

            MDBottomNavigationItem:
                name: 'catalogue'
                text: 'Home'
                icon: 'order-bool-descending-variant'
                icon_size: "36dp"

                
                ScrollView:
                    
                    GridLayout:
                        size_hint_y:None
                        cols:2
                        spacing:"30dp"
                        padding:"20dp"
                        height:self.minimum_height
                        width:self.minimum_width
                        
                        
                        ItemCard:
                            image:"images/1l.jpg"
                            rating:"1Litre Bottle"
                            price:"KSH.40"
                        ItemCard:
                            image:"images/5l.jpg"
                            rating:"5L Bottle"
                            price:"KSH.100"
                        ItemCard:
                            image:"images/10l.jpg"
                            rating:"1OL Bottle"
                            price:"KSH.150"
                        ItemCard:
                            image:"images/189.jpg"
                            rating:"18.9L Bottle"
                            price:"KSH.250"
                        ItemCard:
                            image:"images/20l.jpeg"
                            rating:"20L Bottle"
                            price:"300"
                        ItemCard:
                            image:"images/20lKeringet.jpg"
                            rating:"20L Bottle"
                            price:"KSH.1300"

                       
                          
                            

                
                
            MDBottomNavigationItem:
                name: 'notification'
                text: 'Notification'
                icon: 'store-check'

                 
            MDBottomNavigationItem:
                name: 'profile'
                text: 'Profile'
                icon: 'cash-check'
                icon_size: "36dp"


<ContentCustomSheet@BoxLayout>:
    orientation: "vertical"
    size_hint_y: None
    height: "750dp"
    image:""
    price:""
    rating:""
    RelativeLayout:
        ItemCard:
            pos_hint:{"x":.05,"y":.4}
            image:root.image
            price:root.price
            rating:root.rating
    ScrollView:
        BoxLayout:
            orientation:"vertical"
            
            adaptive_height:True

            MDLabel:
                text:"This the latest version of our Brand with modern design."
                adaptive_height:True
            MDBoxLayout:
                adaptive_width:True
                MDIconButton:
                    icon:"minus"
                    pos_hint:{"center_x":.5,"center_y":.5}
                    on_release: app.decrease_quantity()
                
                MDLabel:
                    id:Labe_num
                    text:app.num
                    halign:'center'
                    valign:'center'
                MDIconButton:
                    icon:'plus'
                    pos_hint:{"center_x":.5,"center_y":.5}
                    on_release: app.increase_quantity()
                
            MDBoxLayout:
                spacing:dp(8)
                MDRoundFlatIconButton:
                    icon:"cart"
                    text:"Add to cart"
                    size_hint_x:1
                MDRoundFlatIconButton:
                    icon:"cards-heart"
                    text:"Add to Favorite"
                    size_hint_x:1
            MDRaisedButton:
                size_hint_x:1
                text:"Buy now"
                pos_hint: {"center_x": .5, "center_y": .5}
                on_press:app.root.current_screen.add_to_cart(self)
#Th on _press abobve has a very important method.
#it allows you to call a method from a different class as long as its defined in that class.


                

<ItemCard@MDCard>
    orientation:"vertical"
    size_hint_x:.5
    size_hint_y:None
    height:dp(200)
    #elevation:1
    radius:25
    md_bg_color:  105/255, 84/255, 151/255, 0.8
    on_release:app.show_example_custom_bottom_sheet(root.image,root.price,root.rating)

    image:""
    price:""
    rating:""

    Image:
        source:root.image
        size_hint: None, None
        size: self.parent.width, self.parent.height * 0.6
        allow_stretch: True
        keep_ratio: False

    BoxLayout:
        pos_hint:{'center_x':0.65}
        MDIcon:
            icon:"star"
            theme_text_color:'Custom'
            text_color:1,1,0,1
            halign:"center"
            size_hint_x:.25
        MDLabel:
            text:root.rating
            halign:"center"
    
    MDLabel:
        pos_hint:{'center_x':0.55}
        text:root.price



